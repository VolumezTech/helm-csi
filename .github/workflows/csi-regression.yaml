name: Trigger CSI Regression Tests

on: 
  pull_request:
    types: [opened, reopened, synchronize]
    branches:
      - main
      - development
  
jobs:
  trigger_jenkins_job1:
    name: Trigger Jenkins Job - Config 1
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Jenkins Job
        uses: estherk0/jenkins-trigger@1.0
        with:
          url: ${{ secrets.JENKINS_URL }}
          user_name: ${{ secrets.JENKINS_USERNAME }}
          api_token: ${{ secrets.JENKINS_TOKEN2 }}
          job_name: "Regression_V3"
          parameter: "{'Test_Plan':'QA-5282'}"

  # trigger_jenkins_job2:
  #   name: Trigger Jenkins Job - Config 2
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Trigger Jenkins Job
  #       uses: estherk0/jenkins-trigger@1.0
  #       with:
  #         url: ${{ secrets.JENKINS_URL }}
  #         user_name: ${{ secrets.JENKINS_USERNAME }}

  #         job_name: "Regression_V3"
  #         parameter: '{"Test_Plan":"QA-5282","Private_SB":"${{ github.ref_name }}","AWS_EC2_OS":"aks_latest","AWS_APP_OS":"aks_latest","Config_File":"aks_fast_regression_default.json","Manifest_Branch":"master","pipeline_automation_branch":"master","is_ms_mode":"True","AWS_EC2_VNL":"True","AWS_APP_VNL":"True"}'